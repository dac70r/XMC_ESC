   1              	 .syntax unified
   2              	 .cpu cortex-m4
   3              	 .eabi_attribute 27,3
   4              	 .fpu fpv4-sp-d16
   5              	 .eabi_attribute 20,1
   6              	 .eabi_attribute 21,1
   7              	 .eabi_attribute 23,3
   8              	 .eabi_attribute 24,1
   9              	 .eabi_attribute 25,1
  10              	 .eabi_attribute 26,1
  11              	 .eabi_attribute 30,4
  12              	 .eabi_attribute 34,1
  13              	 .eabi_attribute 18,4
  14              	 .thumb
  15              	 .file "mailbox.c"
  16              	 .section .text.PutInMbxQueue,"ax",%progbits
  17              	 .align 1
  18              	 .global PutInMbxQueue
  19              	 .thumb
  20              	 .thumb_func
  22              	PutInMbxQueue:
  23              	 
  24              	 
  25 0000 4A88     	 ldrh r2,[r1,#2]
  26 0002 10B5     	 push {r4,lr}
  27 0004 531C     	 adds r3,r2,#1
  28 0006 8C88     	 ldrh r4,[r1,#4]
  29 0008 9BB2     	 uxth r3,r3
  30 000a 9C42     	 cmp r4,r3
  31 000c 08BF     	 it eq
  32 000e 0023     	 moveq r3,#0
  33 0010 0C88     	 ldrh r4,[r1]
  34 0012 9C42     	 cmp r4,r3
  35 0014 1FBF     	 itttt ne
  36 0016 0232     	 addne r2,r2,#2
  37 0018 41F82200 	 strne r0,[r1,r2,lsl#2]
  38 001c 0020     	 movne r0,#0
  39 001e 4B80     	 strhne r3,[r1,#2]
  40 0020 08BF     	 it eq
  41 0022 0720     	 moveq r0,#7
  42 0024 10BD     	 pop {r4,pc}
  44              	 .section .text.GetOutOfMbxQueue,"ax",%progbits
  45              	 .align 1
  46              	 .global GetOutOfMbxQueue
  47              	 .thumb
  48              	 .thumb_func
  50              	GetOutOfMbxQueue:
  51              	 
  52              	 
  53              	 
  54 0000 0388     	 ldrh r3,[r0]
  55 0002 4188     	 ldrh r1,[r0,#2]
  56 0004 9942     	 cmp r1,r3
  57 0006 0246     	 mov r2,r0
  58 0008 0BD0     	 beq .L7
  59 000a 991C     	 adds r1,r3,#2
  60 000c 0133     	 adds r3,r3,#1
  61 000e 50F82100 	 ldr r0,[r0,r1,lsl#2]
  62 0012 9188     	 ldrh r1,[r2,#4]
  63 0014 9BB2     	 uxth r3,r3
  64 0016 9942     	 cmp r1,r3
  65 0018 1380     	 strh r3,[r2]
  66 001a 03D1     	 bne .L6
  67 001c 0023     	 movs r3,#0
  68 001e 1380     	 strh r3,[r2]
  69 0020 7047     	 bx lr
  70              	.L7:
  71 0022 0020     	 movs r0,#0
  72              	.L6:
  73 0024 7047     	 bx lr
  75              	 .section .text.MBX_Init,"ax",%progbits
  76              	 .align 1
  77              	 .global MBX_Init
  78              	 .thumb
  79              	 .thumb_func
  81              	MBX_Init:
  82              	 
  83              	 
  84              	 
  85 0000 184B     	 ldr r3,.L10
  86 0002 2422     	 movs r2,#36
  87 0004 1A80     	 strh r2,[r3]
  88 0006 184B     	 ldr r3,.L10+4
  89 0008 8022     	 movs r2,#128
  90 000a 1A80     	 strh r2,[r3]
  91 000c 174A     	 ldr r2,.L10+8
  92 000e 4FF48053 	 mov r3,#4096
  93 0012 1380     	 strh r3,[r2]
  94 0014 164A     	 ldr r2,.L10+12
  95 0016 1380     	 strh r3,[r2]
  96 0018 164A     	 ldr r2,.L10+16
  97 001a 0023     	 movs r3,#0
  98 001c 0A21     	 movs r1,#10
  99 001e 1380     	 strh r3,[r2]
 100 0020 5380     	 strh r3,[r2,#2]
 101 0022 9180     	 strh r1,[r2,#4]
 102 0024 144A     	 ldr r2,.L10+20
 103 0026 1380     	 strh r3,[r2]
 104 0028 5380     	 strh r3,[r2,#2]
 105 002a 9180     	 strh r1,[r2,#4]
 106 002c 134A     	 ldr r2,.L10+24
 107 002e 1449     	 ldr r1,.L10+28
 108 0030 1360     	 str r3,[r2]
 109 0032 144A     	 ldr r2,.L10+32
 110 0034 1360     	 str r3,[r2]
 111 0036 144A     	 ldr r2,.L10+36
 112 0038 1360     	 str r3,[r2]
 113 003a 144A     	 ldr r2,.L10+40
 114 003c 1360     	 str r3,[r2]
 115 003e 144A     	 ldr r2,.L10+44
 116 0040 1370     	 strb r3,[r2]
 117 0042 0A78     	 ldrb r2,[r1]
 118 0044 02F0FD02 	 and r2,r2,#253
 119 0048 0A70     	 strb r2,[r1]
 120 004a 124A     	 ldr r2,.L10+48
 121 004c 1370     	 strb r3,[r2]
 122 004e 124A     	 ldr r2,.L10+52
 123 0050 1370     	 strb r3,[r2]
 124 0052 124A     	 ldr r2,.L10+56
 125 0054 1370     	 strb r3,[r2]
 126 0056 124A     	 ldr r2,.L10+60
 127 0058 1370     	 strb r3,[r2]
 128 005a 124A     	 ldr r2,.L10+64
 129 005c 1370     	 strb r3,[r2]
 130 005e 124A     	 ldr r2,.L10+68
 131 0060 1370     	 strb r3,[r2]
 132 0062 7047     	 bx lr
 133              	.L11:
 134              	 .align 2
 135              	.L10:
 136 0064 00000000 	 .word u16ReceiveMbxSize
 137 0068 00000000 	 .word u16SendMbxSize
 138 006c 00000000 	 .word u16EscAddrReceiveMbx
 139 0070 00000000 	 .word u16EscAddrSendMbx
 140 0074 00000000 	 .word sMbxReceiveQueue
 141 0078 00000000 	 .word sMbxSendQueue
 142 007c 00000000 	 .word psWriteMbx
 143 0080 0F080154 	 .word 1409353743
 144 0084 00000000 	 .word psRepeatMbx
 145 0088 00000000 	 .word psReadMbx
 146 008c 00000000 	 .word psStoreMbx
 147 0090 00000000 	 .word bMbxRepeatToggle
 148 0094 00000000 	 .word bMbxRunning
 149 0098 00000000 	 .word bSendMbxIsFull
 150 009c 00000000 	 .word bReceiveMbxIsLocked
 151 00a0 00000000 	 .word u8MailboxSendReqStored
 152 00a4 00000000 	 .word u8MbxWriteCounter
 153 00a8 00000000 	 .word u8MbxReadCounter
 155              	 .section .text.MBX_StartMailboxHandler,"ax",%progbits
 156              	 .align 1
 157              	 .global MBX_StartMailboxHandler
 158              	 .thumb
 159              	 .thumb_func
 161              	MBX_StartMailboxHandler:
 162              	 
 163              	 
 164 0000 70B5     	 push {r4,r5,r6,lr}
 165 0002 0020     	 movs r0,#0
 166 0004 FFF7FEFF 	 bl GetSyncMan
 167 0008 C278     	 ldrb r2,[r0,#3]
 168 000a 8378     	 ldrb r3,[r0,#2]
 169 000c 1F4C     	 ldr r4,.L20
 170 000e 204D     	 ldr r5,.L20+4
 171 0010 43EA0223 	 orr r3,r3,r2,lsl#8
 172 0014 2380     	 strh r3,[r4]
 173 0016 4278     	 ldrb r2,[r0,#1]
 174 0018 0378     	 ldrb r3,[r0]
 175 001a 0120     	 movs r0,#1
 176 001c 43EA0223 	 orr r3,r3,r2,lsl#8
 177 0020 2B80     	 strh r3,[r5]
 178 0022 FFF7FEFF 	 bl GetSyncMan
 179 0026 1B4A     	 ldr r2,.L20+8
 180 0028 4388     	 ldrh r3,[r0,#2]
 181 002a 1B49     	 ldr r1,.L20+12
 182 002c 1380     	 strh r3,[r2]
 183 002e 0288     	 ldrh r2,[r0]
 184 0030 0A80     	 strh r2,[r1]
 185 0032 2888     	 ldrh r0,[r5]
 186 0034 2188     	 ldrh r1,[r4]
 187 0036 0144     	 add r1,r1,r0
 188 0038 9142     	 cmp r1,r2
 189 003a 02DD     	 ble .L13
 190 003c 1344     	 add r3,r3,r2
 191 003e 9842     	 cmp r0,r3
 192 0040 21DB     	 blt .L17
 193              	.L13:
 194 0042 0020     	 movs r0,#0
 195 0044 FFF7FEFF 	 bl EnableSyncManChannel
 196 0048 0120     	 movs r0,#1
 197 004a FFF7FEFF 	 bl EnableSyncManChannel
 198 004e 2088     	 ldrh r0,[r4]
 199 0050 124D     	 ldr r5,.L20+16
 200 0052 FFF7FEFF 	 bl malloc
 201 0056 124B     	 ldr r3,.L20+20
 202 0058 2860     	 str r0,[r5]
 203 005a 0646     	 mov r6,r0
 204 005c 60B9     	 cbnz r0,.L15
 205 005e 0122     	 movs r2,#1
 206 0060 0A20     	 movs r0,#10
 207 0062 1A70     	 strb r2,[r3]
 208 0064 FFF7FEFF 	 bl malloc
 209 0068 0028     	 cmp r0,#0
 210 006a 14BF     	 ite ne
 211 006c 0024     	 movne r4,#0
 212 006e 0224     	 moveq r4,#2
 213 0070 FFF7FEFF 	 bl free
 214 0074 2E60     	 str r6,[r5]
 215 0076 04E0     	 b .L19
 216              	.L15:
 217 0078 0024     	 movs r4,#0
 218 007a 1C70     	 strb r4,[r3]
 219 007c FFF7FEFF 	 bl free
 220 0080 2C60     	 str r4,[r5]
 221              	.L19:
 222 0082 2046     	 mov r0,r4
 223 0084 70BD     	 pop {r4,r5,r6,pc}
 224              	.L17:
 225 0086 1620     	 movs r0,#22
 226 0088 70BD     	 pop {r4,r5,r6,pc}
 227              	.L21:
 228 008a 00BF     	 .align 2
 229              	.L20:
 230 008c 00000000 	 .word u16ReceiveMbxSize
 231 0090 00000000 	 .word u16EscAddrReceiveMbx
 232 0094 00000000 	 .word u16SendMbxSize
 233 0098 00000000 	 .word u16EscAddrSendMbx
 234 009c 00000000 	 .word psWriteMbx
 235 00a0 00000000 	 .word bNoMbxMemoryAvailable
 237              	 .section .text.MBX_StopMailboxHandler,"ax",%progbits
 238              	 .align 1
 239              	 .global MBX_StopMailboxHandler
 240              	 .thumb
 241              	 .thumb_func
 243              	MBX_StopMailboxHandler:
 244              	 
 245              	 
 246 0000 244B     	 ldr r3,.L40
 247 0002 70B5     	 push {r4,r5,r6,lr}
 248 0004 0020     	 movs r0,#0
 249 0006 244C     	 ldr r4,.L40+4
 250 0008 1870     	 strb r0,[r3]
 251 000a FFF7FEFF 	 bl DisableSyncManChannel
 252 000e 0120     	 movs r0,#1
 253 0010 FFF7FEFF 	 bl DisableSyncManChannel
 254 0014 2068     	 ldr r0,[r4]
 255 0016 08B1     	 cbz r0,.L23
 256 0018 FFF7FEFF 	 bl free
 257              	.L23:
 258 001c 1F4D     	 ldr r5,.L40+8
 259 001e 2868     	 ldr r0,[r5]
 260 0020 20B1     	 cbz r0,.L24
 261 0022 2368     	 ldr r3,[r4]
 262 0024 9842     	 cmp r0,r3
 263 0026 01D0     	 beq .L24
 264 0028 FFF7FEFF 	 bl free
 265              	.L24:
 266 002c 1C4B     	 ldr r3,.L40+12
 267 002e 1868     	 ldr r0,[r3]
 268 0030 1E46     	 mov r6,r3
 269 0032 38B1     	 cbz r0,.L25
 270 0034 2368     	 ldr r3,[r4]
 271 0036 9842     	 cmp r0,r3
 272 0038 04D0     	 beq .L25
 273 003a 2B68     	 ldr r3,[r5]
 274 003c 9842     	 cmp r0,r3
 275 003e 01D0     	 beq .L25
 276 0040 FFF7FEFF 	 bl free
 277              	.L25:
 278 0044 FFF7FEFF 	 bl SDOS_ClearPendingResponse
 279 0048 164A     	 ldr r2,.L40+16
 280 004a 1749     	 ldr r1,.L40+20
 281 004c 0023     	 movs r3,#0
 282 004e 1360     	 str r3,[r2]
 283 0050 164A     	 ldr r2,.L40+24
 284 0052 2360     	 str r3,[r4]
 285 0054 1370     	 strb r3,[r2]
 286 0056 3360     	 str r3,[r6]
 287 0058 2B60     	 str r3,[r5]
 288 005a 0A78     	 ldrb r2,[r1]
 289 005c 02F0FD02 	 and r2,r2,#253
 290 0060 0A70     	 strb r2,[r1]
 291 0062 134A     	 ldr r2,.L40+28
 292 0064 1370     	 strb r3,[r2]
 293 0066 134A     	 ldr r2,.L40+32
 294 0068 1370     	 strb r3,[r2]
 295 006a 134A     	 ldr r2,.L40+36
 296 006c 1370     	 strb r3,[r2]
 297 006e 134A     	 ldr r2,.L40+40
 298 0070 1370     	 strb r3,[r2]
 299 0072 134A     	 ldr r2,.L40+44
 300 0074 1370     	 strb r3,[r2]
 301              	.L27:
 302 0076 1348     	 ldr r0,.L40+48
 303 0078 FFF7FEFF 	 bl GetOutOfMbxQueue
 304 007c 10B1     	 cbz r0,.L26
 305 007e FFF7FEFF 	 bl free
 306 0082 F8E7     	 b .L27
 307              	.L26:
 308 0084 1048     	 ldr r0,.L40+52
 309 0086 FFF7FEFF 	 bl GetOutOfMbxQueue
 310 008a 10B1     	 cbz r0,.L22
 311 008c FFF7FEFF 	 bl free
 312 0090 F8E7     	 b .L26
 313              	.L22:
 314 0092 70BD     	 pop {r4,r5,r6,pc}
 315              	.L41:
 316              	 .align 2
 317              	.L40:
 318 0094 00000000 	 .word bMbxRunning
 319 0098 00000000 	 .word psRepeatMbx
 320 009c 00000000 	 .word psStoreMbx
 321 00a0 00000000 	 .word psReadMbx
 322 00a4 00000000 	 .word psWriteMbx
 323 00a8 0F080154 	 .word 1409353743
 324 00ac 00000000 	 .word bMbxRepeatToggle
 325 00b0 00000000 	 .word bSendMbxIsFull
 326 00b4 00000000 	 .word bReceiveMbxIsLocked
 327 00b8 00000000 	 .word u8MailboxSendReqStored
 328 00bc 00000000 	 .word u8MbxWriteCounter
 329 00c0 00000000 	 .word u8MbxReadCounter
 330 00c4 00000000 	 .word sMbxReceiveQueue
 331 00c8 00000000 	 .word sMbxSendQueue
 333              	 .section .text.MailboxServiceInd,"ax",%progbits
 334              	 .align 1
 335              	 .global MailboxServiceInd
 336              	 .thumb
 337              	 .thumb_func
 339              	MailboxServiceInd:
 340              	 
 341              	 
 342              	 
 343 0000 4379     	 ldrb r3,[r0,#5]
 344 0002 03F00F03 	 and r3,r3,#15
 345 0006 032B     	 cmp r3,#3
 346 0008 01D1     	 bne .L45
 347 000a FFF7FEBF 	 b COE_ServiceInd
 348              	.L45:
 349 000e 0220     	 movs r0,#2
 350 0010 7047     	 bx lr
 352              	 .section .text.MBX_CopyToSendMailbox,"ax",%progbits
 353              	 .align 1
 354              	 .global MBX_CopyToSendMailbox
 355              	 .thumb
 356              	 .thumb_func
 358              	MBX_CopyToSendMailbox:
 359              	 
 360              	 
 361 0000 F7B5     	 push {r0,r1,r2,r4,r5,r6,r7,lr}
 362 0002 304B     	 ldr r3,.L59
 363 0004 1B78     	 ldrb r3,[r3]
 364 0006 03F00F03 	 and r3,r3,#15
 365 000a 012B     	 cmp r3,#1
 366 000c 0646     	 mov r6,r0
 367 000e 53D0     	 beq .L53
 368 0010 2D4B     	 ldr r3,.L59+4
 369 0012 1B78     	 ldrb r3,[r3]
 370 0014 002B     	 cmp r3,#0
 371 0016 4FD0     	 beq .L53
 372 0018 2C4D     	 ldr r5,.L59+8
 373 001a 95F800E0 	 ldrb lr,[r5]
 374 001e BEF1000F 	 cmp lr,#0
 375 0022 4BD1     	 bne .L54
 376 0024 0288     	 ldrh r2,[r0]
 377 0026 2A4F     	 ldr r7,.L59+12
 378 0028 2A48     	 ldr r0,.L59+16
 379 002a 3988     	 ldrh r1,[r7]
 380 002c 0488     	 ldrh r4,[r0]
 381 002e 1319     	 adds r3,r2,r4
 382 0030 2144     	 add r1,r1,r4
 383 0032 294C     	 ldr r4,.L59+20
 384 0034 0633     	 adds r3,r3,#6
 385 0036 0139     	 subs r1,r1,#1
 386 0038 9BB2     	 uxth r3,r3
 387 003a 89B2     	 uxth r1,r1
 388 003c 84F800E0 	 strb lr,[r4]
 389              	.L48:
 390 0040 8B42     	 cmp r3,r1
 391 0042 0CD2     	 bcs .L58
 392 0044 03F1A84E 	 add lr,r3,#1409286144
 393 0048 94F800C0 	 ldrb ip,[r4]
 394 004c 0EF5803E 	 add lr,lr,#65536
 395 0050 5FFA8CFC 	 uxtb ip,ip
 396 0054 0133     	 adds r3,r3,#1
 397 0056 8EF800C0 	 strb ip,[lr]
 398 005a 9BB2     	 uxth r3,r3
 399 005c F0E7     	 b .L48
 400              	.L58:
 401 005e 0088     	 ldrh r0,[r0]
 402 0060 0632     	 adds r2,r2,#6
 403 0062 00F1A840 	 add r0,r0,#1409286144
 404 0066 92B2     	 uxth r2,r2
 405 0068 00F58030 	 add r0,r0,#65536
 406 006c 3146     	 mov r1,r6
 407 006e FFF7FEFF 	 bl memcpy
 408 0072 0023     	 movs r3,#0
 409 0074 8DF80730 	 strb r3,[sp,#7]
 410 0078 184B     	 ldr r3,.L59+24
 411 007a 1B78     	 ldrb r3,[r3]
 412 007c DBB2     	 uxtb r3,r3
 413 007e 8DF80730 	 strb r3,[sp,#7]
 414 0082 9DF80730 	 ldrb r3,[sp,#7]
 415 0086 03F00803 	 and r3,r3,#8
 416 008a 03F0FF02 	 and r2,r3,#255
 417 008e 43B9     	 cbnz r3,.L50
 418 0090 104B     	 ldr r3,.L59+16
 419 0092 2270     	 strb r2,[r4]
 420 0094 1A88     	 ldrh r2,[r3]
 421 0096 3B88     	 ldrh r3,[r7]
 422 0098 1149     	 ldr r1,.L59+28
 423 009a 1344     	 add r3,r3,r2
 424 009c 2278     	 ldrb r2,[r4]
 425 009e D2B2     	 uxtb r2,r2
 426 00a0 CA54     	 strb r2,[r1,r3]
 427              	.L50:
 428 00a2 104B     	 ldr r3,.L59+32
 429 00a4 1A68     	 ldr r2,[r3]
 430 00a6 12B1     	 cbz r2,.L51
 431 00a8 0F4A     	 ldr r2,.L59+36
 432 00aa 0021     	 movs r1,#0
 433 00ac 1160     	 str r1,[r2]
 434              	.L51:
 435 00ae 1E60     	 str r6,[r3]
 436 00b0 0123     	 movs r3,#1
 437 00b2 2B70     	 strb r3,[r5]
 438 00b4 0020     	 movs r0,#0
 439 00b6 02E0     	 b .L47
 440              	.L53:
 441 00b8 F020     	 movs r0,#240
 442 00ba 00E0     	 b .L47
 443              	.L54:
 444 00bc 0720     	 movs r0,#7
 445              	.L47:
 446 00be 03B0     	 add sp,sp,#12
 447              	 
 448 00c0 F0BD     	 pop {r4,r5,r6,r7,pc}
 449              	.L60:
 450 00c2 00BF     	 .align 2
 451              	.L59:
 452 00c4 00000000 	 .word nAlStatus
 453 00c8 00000000 	 .word bMbxRunning
 454 00cc 00000000 	 .word bSendMbxIsFull
 455 00d0 00000000 	 .word u16SendMbxSize
 456 00d4 00000000 	 .word u16EscAddrSendMbx
 457 00d8 00000000 	 .word u8dummy
 458 00dc 0D080154 	 .word 1409353741
 459 00e0 FFFF0054 	 .word 1409351679
 460 00e4 00000000 	 .word psReadMbx
 461 00e8 00000000 	 .word psWriteMbx
 463              	 .section .text.MBX_MailboxReadInd,"ax",%progbits
 464              	 .align 1
 465              	 .global MBX_MailboxReadInd
 466              	 .thumb
 467              	 .thumb_func
 469              	MBX_MailboxReadInd:
 470              	 
 471              	 
 472 0000 194B     	 ldr r3,.L80
 473 0002 0022     	 movs r2,#0
 474 0004 70B5     	 push {r4,r5,r6,lr}
 475 0006 1A70     	 strb r2,[r3]
 476 0008 184B     	 ldr r3,.L80+4
 477 000a 194D     	 ldr r5,.L80+8
 478 000c 1868     	 ldr r0,[r3]
 479 000e 194E     	 ldr r6,.L80+12
 480 0010 1C46     	 mov r4,r3
 481 0012 30B1     	 cbz r0,.L62
 482 0014 2B68     	 ldr r3,[r5]
 483 0016 23B9     	 cbnz r3,.L62
 484 0018 3368     	 ldr r3,[r6]
 485 001a 8342     	 cmp r3,r0
 486 001c 01D0     	 beq .L62
 487 001e FFF7FEFF 	 bl free
 488              	.L62:
 489 0022 2868     	 ldr r0,[r5]
 490 0024 3368     	 ldr r3,[r6]
 491 0026 2360     	 str r3,[r4]
 492 0028 28B1     	 cbz r0,.L63
 493 002a FFF7FEFF 	 bl MBX_CopyToSendMailbox
 494 002e 104B     	 ldr r3,.L80+8
 495 0030 0022     	 movs r2,#0
 496 0032 1A60     	 str r2,[r3]
 497 0034 05E0     	 b .L64
 498              	.L63:
 499 0036 1048     	 ldr r0,.L80+16
 500 0038 FFF7FEFF 	 bl GetOutOfMbxQueue
 501 003c 08B1     	 cbz r0,.L64
 502 003e FFF7FEFF 	 bl MBX_CopyToSendMailbox
 503              	.L64:
 504 0042 0E4C     	 ldr r4,.L80+20
 505 0044 2378     	 ldrb r3,[r4]
 506 0046 6BB1     	 cbz r3,.L61
 507 0048 9A07     	 lsls r2,r3,#30
 508 004a 0BD5     	 bpl .L61
 509 004c 23F00203 	 bic r3,r3,#2
 510 0050 2370     	 strb r3,[r4]
 511 0052 0B4B     	 ldr r3,.L80+24
 512 0054 1868     	 ldr r0,[r3]
 513 0056 FFF7FEFF 	 bl COE_ContinueInd
 514 005a 18B1     	 cbz r0,.L61
 515 005c 2378     	 ldrb r3,[r4]
 516 005e 43F00203 	 orr r3,r3,#2
 517 0062 2370     	 strb r3,[r4]
 518              	.L61:
 519 0064 70BD     	 pop {r4,r5,r6,pc}
 520              	.L81:
 521 0066 00BF     	 .align 2
 522              	.L80:
 523 0068 00000000 	 .word bSendMbxIsFull
 524 006c 00000000 	 .word psRepeatMbx
 525 0070 00000000 	 .word psStoreMbx
 526 0074 00000000 	 .word psReadMbx
 527 0078 00000000 	 .word sMbxSendQueue
 528 007c 00000000 	 .word u8MailboxSendReqStored
 529 0080 00000000 	 .word psWriteMbx
 531              	 .section .text.MBX_MailboxRepeatReq,"ax",%progbits
 532              	 .align 1
 533              	 .global MBX_MailboxRepeatReq
 534              	 .thumb
 535              	 .thumb_func
 537              	MBX_MailboxRepeatReq:
 538              	 
 539              	 
 540 0000 114B     	 ldr r3,.L91
 541 0002 2DE9F041 	 push {r4,r5,r6,r7,r8,lr}
 542 0006 1C68     	 ldr r4,[r3]
 543 0008 9846     	 mov r8,r3
 544 000a ACB1     	 cbz r4,.L83
 545 000c 0F4D     	 ldr r5,.L91+4
 546 000e 2B78     	 ldrb r3,[r5]
 547 0010 63B1     	 cbz r3,.L84
 548 0012 0F4F     	 ldr r7,.L91+8
 549 0014 3E68     	 ldr r6,[r7]
 550 0016 4EB9     	 cbnz r6,.L84
 551 0018 0120     	 movs r0,#1
 552 001a FFF7FEFF 	 bl DisableSyncManChannel
 553 001e 0D4B     	 ldr r3,.L91+12
 554 0020 0120     	 movs r0,#1
 555 0022 1B68     	 ldr r3,[r3]
 556 0024 3B60     	 str r3,[r7]
 557 0026 FFF7FEFF 	 bl EnableSyncManChannel
 558 002a 2E70     	 strb r6,[r5]
 559              	.L84:
 560 002c 2046     	 mov r0,r4
 561 002e FFF7FEFF 	 bl MBX_CopyToSendMailbox
 562 0032 0023     	 movs r3,#0
 563 0034 C8F80030 	 str r3,[r8]
 564              	.L83:
 565 0038 074A     	 ldr r2,.L91+16
 566 003a 1378     	 ldrb r3,[r2]
 567 003c 83F00103 	 eor r3,r3,#1
 568 0040 1370     	 strb r3,[r2]
 569 0042 BDE8F081 	 pop {r4,r5,r6,r7,r8,pc}
 570              	.L92:
 571 0046 00BF     	 .align 2
 572              	.L91:
 573 0048 00000000 	 .word psRepeatMbx
 574 004c 00000000 	 .word bSendMbxIsFull
 575 0050 00000000 	 .word psStoreMbx
 576 0054 00000000 	 .word psReadMbx
 577 0058 00000000 	 .word bMbxRepeatToggle
 579              	 .section .text.MBX_MailboxSendReq,"ax",%progbits
 580              	 .align 1
 581              	 .global MBX_MailboxSendReq
 582              	 .thumb
 583              	 .thumb_func
 585              	MBX_MailboxSendReq:
 586              	 
 587              	 
 588 0000 70B5     	 push {r4,r5,r6,lr}
 589 0002 184B     	 ldr r3,.L101
 590 0004 1B78     	 ldrb r3,[r3]
 591 0006 03F00F03 	 and r3,r3,#15
 592 000a 012B     	 cmp r3,#1
 593 000c 0546     	 mov r5,r0
 594 000e 0C46     	 mov r4,r1
 595 0010 26D0     	 beq .L99
 596 0012 154A     	 ldr r2,.L101+4
 597 0014 4379     	 ldrb r3,[r0,#5]
 598 0016 1178     	 ldrb r1,[r2]
 599 0018 134E     	 ldr r6,.L101+4
 600 001a 4907     	 lsls r1,r1,#29
 601 001c 04BF     	 itt eq
 602 001e 0121     	 moveq r1,#1
 603 0020 1170     	 strbeq r1,[r2]
 604 0022 1278     	 ldrb r2,[r2]
 605 0024 03F00F03 	 and r3,r3,#15
 606 0028 4371     	 strb r3,[r0,#5]
 607 002a 43EA0213 	 orr r3,r3,r2,lsl#4
 608 002e 4371     	 strb r3,[r0,#5]
 609 0030 FFF7FEFF 	 bl MBX_CopyToSendMailbox
 610 0034 38B1     	 cbz r0,.L96
 611 0036 2846     	 mov r0,r5
 612 0038 0C49     	 ldr r1,.L101+8
 613 003a FFF7FEFF 	 bl PutInMbxQueue
 614 003e 10B1     	 cbz r0,.L96
 615 0040 44F08004 	 orr r4,r4,#128
 616 0044 02E0     	 b .L98
 617              	.L96:
 618 0046 3378     	 ldrb r3,[r6]
 619 0048 0133     	 adds r3,r3,#1
 620 004a 3370     	 strb r3,[r6]
 621              	.L98:
 622 004c E4B2     	 uxtb r4,r4
 623 004e 2306     	 lsls r3,r4,#24
 624 0050 07D5     	 bpl .L94
 625 0052 074A     	 ldr r2,.L101+12
 626 0054 1378     	 ldrb r3,[r2]
 627 0056 04F07F04 	 and r4,r4,#127
 628 005a 1C43     	 orrs r4,r4,r3
 629 005c 1470     	 strb r4,[r2]
 630 005e 70BD     	 pop {r4,r5,r6,pc}
 631              	.L99:
 632 0060 F020     	 movs r0,#240
 633              	.L94:
 634 0062 70BD     	 pop {r4,r5,r6,pc}
 635              	.L102:
 636              	 .align 2
 637              	.L101:
 638 0064 00000000 	 .word nAlStatus
 639 0068 00000000 	 .word u8MbxReadCounter
 640 006c 00000000 	 .word sMbxSendQueue
 641 0070 00000000 	 .word u8MailboxSendReqStored
 643              	 .section .text.MBX_MailboxWriteInd,"ax",%progbits
 644              	 .align 1
 645              	 .global MBX_MailboxWriteInd
 646              	 .thumb
 647              	 .thumb_func
 649              	MBX_MailboxWriteInd:
 650              	 
 651              	 
 652 0000 10B5     	 push {r4,lr}
 653 0002 0188     	 ldrh r1,[r0]
 654 0004 4379     	 ldrb r3,[r0,#5]
 655 0006 8029     	 cmp r1,#128
 656 0008 0446     	 mov r4,r0
 657 000a 4FEA1312 	 lsr r2,r3,#4
 658 000e 09D9     	 bls .L104
 659 0010 23F00F03 	 bic r3,r3,#15
 660 0014 4371     	 strb r3,[r0,#5]
 661 0016 0123     	 movs r3,#1
 662 0018 0422     	 movs r2,#4
 663 001a C380     	 strh r3,[r0,#6]
 664 001c 0823     	 movs r3,#8
 665 001e 0280     	 strh r2,[r0]
 666 0020 0381     	 strh r3,[r0,#8]
 667 0022 14E0     	 b .L111
 668              	.L104:
 669 0024 0F4B     	 ldr r3,.L112
 670 0026 12B1     	 cbz r2,.L105
 671 0028 1978     	 ldrb r1,[r3]
 672 002a 9142     	 cmp r1,r2
 673 002c 14D0     	 beq .L106
 674              	.L105:
 675 002e 2046     	 mov r0,r4
 676 0030 0D49     	 ldr r1,.L112+4
 677 0032 1A70     	 strb r2,[r3]
 678 0034 FFF7FEFF 	 bl PutInMbxQueue
 679 0038 90B1     	 cbz r0,.L103
 680 003a 0423     	 movs r3,#4
 681 003c 2380     	 strh r3,[r4]
 682 003e 6379     	 ldrb r3,[r4,#5]
 683 0040 2081     	 strh r0,[r4,#8]
 684 0042 23F00F03 	 bic r3,r3,#15
 685 0046 6371     	 strb r3,[r4,#5]
 686 0048 0123     	 movs r3,#1
 687 004a E380     	 strh r3,[r4,#6]
 688 004c 2046     	 mov r0,r4
 689              	.L111:
 690 004e 0021     	 movs r1,#0
 691 0050 BDE81040 	 pop {r4,lr}
 692 0054 FFF7FEBF 	 b MBX_MailboxSendReq
 693              	.L106:
 694 0058 BDE81040 	 pop {r4,lr}
 695 005c FFF7FEBF 	 b free
 696              	.L103:
 697 0060 10BD     	 pop {r4,pc}
 698              	.L113:
 699 0062 00BF     	 .align 2
 700              	.L112:
 701 0064 00000000 	 .word u8MbxWriteCounter
 702 0068 00000000 	 .word sMbxReceiveQueue
 704              	 .section .text.MBX_CheckAndCopyMailbox,"ax",%progbits
 705              	 .align 1
 706              	 .global MBX_CheckAndCopyMailbox
 707              	 .thumb
 708              	 .thumb_func
 710              	MBX_CheckAndCopyMailbox:
 711              	 
 712              	 
 713 0000 2DE9F743 	 push {r0,r1,r2,r4,r5,r6,r7,r8,r9,lr}
 714 0004 314F     	 ldr r7,.L131
 715 0006 3B88     	 ldrh r3,[r7]
 716 0008 5B08     	 lsrs r3,r3,#1
 717 000a 5B00     	 lsls r3,r3,#1
 718 000c 03F1A843 	 add r3,r3,#1409286144
 719 0010 03F58033 	 add r3,r3,#65536
 720 0014 1C88     	 ldrh r4,[r3]
 721 0016 2E4B     	 ldr r3,.L131+4
 722 0018 1B78     	 ldrb r3,[r3]
 723 001a A4B2     	 uxth r4,r4
 724 001c CBB1     	 cbz r3,.L116
 725 001e 0A20     	 movs r0,#10
 726 0020 FFF7FEFF 	 bl malloc
 727 0024 0546     	 mov r5,r0
 728 0026 A0B1     	 cbz r0,.L116
 729 0028 0021     	 movs r1,#0
 730 002a 0A22     	 movs r2,#10
 731 002c FFF7FEFF 	 bl memset
 732 0030 0423     	 movs r3,#4
 733 0032 2B80     	 strh r3,[r5]
 734 0034 6B79     	 ldrb r3,[r5,#5]
 735 0036 23F00F03 	 bic r3,r3,#15
 736 003a 6B71     	 strb r3,[r5,#5]
 737 003c 0123     	 movs r3,#1
 738 003e EB80     	 strh r3,[r5,#6]
 739 0040 0723     	 movs r3,#7
 740 0042 2B81     	 strh r3,[r5,#8]
 741 0044 2846     	 mov r0,r5
 742 0046 0021     	 movs r1,#0
 743 0048 FFF7FEFF 	 bl MBX_MailboxSendReq
 744 004c 2846     	 mov r0,r5
 745 004e FFF7FEFF 	 bl free
 746              	.L116:
 747 0052 204B     	 ldr r3,.L131+8
 748 0054 DFF89890 	 ldr r9,.L131+36
 749 0058 1B78     	 ldrb r3,[r3]
 750 005a 13B9     	 cbnz r3,.L118
 751 005c 1E4B     	 ldr r3,.L131+12
 752 005e 1E78     	 ldrb r6,[r3]
 753 0060 1EB1     	 cbz r6,.L119
 754              	.L118:
 755 0062 0123     	 movs r3,#1
 756 0064 89F80030 	 strb r3,[r9]
 757 0068 2DE0     	 b .L114
 758              	.L119:
 759 006a 1C4B     	 ldr r3,.L131+16
 760 006c 89F80060 	 strb r6,[r9]
 761 0070 1D88     	 ldrh r5,[r3]
 762 0072 0634     	 adds r4,r4,#6
 763 0074 A4B2     	 uxth r4,r4
 764 0076 AC42     	 cmp r4,r5
 765 0078 2846     	 mov r0,r5
 766 007a 28BF     	 it cs
 767 007c 2C46     	 movcs r4,r5
 768 007e FFF7FEFF 	 bl malloc
 769 0082 174B     	 ldr r3,.L131+20
 770 0084 8046     	 mov r8,r0
 771 0086 1860     	 str r0,[r3]
 772 0088 0028     	 cmp r0,#0
 773 008a EAD0     	 beq .L118
 774 008c 3F88     	 ldrh r7,[r7]
 775 008e 07F1A841 	 add r1,r7,#1409286144
 776 0092 01F58031 	 add r1,r1,#65536
 777 0096 2246     	 mov r2,r4
 778 0098 FFF7FEFF 	 bl memcpy
 779 009c 114B     	 ldr r3,.L131+24
 780 009e 8DF80760 	 strb r6,[sp,#7]
 781 00a2 1B78     	 ldrb r3,[r3]
 782 00a4 DBB2     	 uxtb r3,r3
 783 00a6 8DF80730 	 strb r3,[sp,#7]
 784 00aa 9DF80730 	 ldrb r3,[sp,#7]
 785 00ae 1B07     	 lsls r3,r3,#28
 786 00b0 06D5     	 bpl .L121
 787 00b2 0D4A     	 ldr r2,.L131+28
 788 00b4 0D4B     	 ldr r3,.L131+32
 789 00b6 1670     	 strb r6,[r2]
 790 00b8 3D44     	 add r5,r5,r7
 791 00ba 5B5D     	 ldrb r3,[r3,r5]
 792 00bc DBB2     	 uxtb r3,r3
 793 00be 1370     	 strb r3,[r2]
 794              	.L121:
 795 00c0 4046     	 mov r0,r8
 796 00c2 FFF7FEFF 	 bl MBX_MailboxWriteInd
 797              	.L114:
 798 00c6 03B0     	 add sp,sp,#12
 799              	 
 800 00c8 BDE8F083 	 pop {r4,r5,r6,r7,r8,r9,pc}
 801              	.L132:
 802              	 .align 2
 803              	.L131:
 804 00cc 00000000 	 .word u16EscAddrReceiveMbx
 805 00d0 00000000 	 .word bNoMbxMemoryAvailable
 806 00d4 00000000 	 .word bSendMbxIsFull
 807 00d8 00000000 	 .word u8MailboxSendReqStored
 808 00dc 00000000 	 .word u16ReceiveMbxSize
 809 00e0 00000000 	 .word psWriteMbx
 810 00e4 05080154 	 .word 1409353733
 811 00e8 00000000 	 .word u8dummy
 812 00ec FFFF0054 	 .word 1409351679
 813 00f0 00000000 	 .word bReceiveMbxIsLocked
 815              	 .section .text.MBX_Main,"ax",%progbits
 816              	 .align 1
 817              	 .global MBX_Main
 818              	 .thumb
 819              	 .thumb_func
 821              	MBX_Main:
 822              	 
 823              	 
 824 0000 10B5     	 push {r4,lr}
 825              	.L134:
 826 0002 0F48     	 ldr r0,.L143
 827 0004 FFF7FEFF 	 bl GetOutOfMbxQueue
 828 0008 0446     	 mov r4,r0
 829 000a 88B1     	 cbz r0,.L135
 830 000c FFF7FEFF 	 bl MailboxServiceInd
 831 0010 0028     	 cmp r0,#0
 832 0012 F6D0     	 beq .L134
 833 0014 0423     	 movs r3,#4
 834 0016 2380     	 strh r3,[r4]
 835 0018 6379     	 ldrb r3,[r4,#5]
 836 001a 2081     	 strh r0,[r4,#8]
 837 001c 23F00F03 	 bic r3,r3,#15
 838 0020 6371     	 strb r3,[r4,#5]
 839 0022 0123     	 movs r3,#1
 840 0024 E380     	 strh r3,[r4,#6]
 841 0026 2046     	 mov r0,r4
 842 0028 0021     	 movs r1,#0
 843 002a FFF7FEFF 	 bl MBX_MailboxSendReq
 844 002e E8E7     	 b .L134
 845              	.L135:
 846 0030 044B     	 ldr r3,.L143+4
 847 0032 1B78     	 ldrb r3,[r3]
 848 0034 1BB1     	 cbz r3,.L142
 849 0036 BDE81040 	 pop {r4,lr}
 850 003a FFF7FEBF 	 b MBX_CheckAndCopyMailbox
 851              	.L142:
 852 003e 10BD     	 pop {r4,pc}
 853              	.L144:
 854              	 .align 2
 855              	.L143:
 856 0040 00000000 	 .word sMbxReceiveQueue
 857 0044 00000000 	 .word bReceiveMbxIsLocked
 859              	 .comm bNoMbxMemoryAvailable,1,1
 860              	 .comm sMbxReceiveQueue,52,4
 861              	 .comm sMbxSendQueue,52,4
 862              	 .comm psStoreMbx,4,4
 863              	 .comm psRepeatMbx,4,4
 864              	 .comm psReadMbx,4,4
 865              	 .comm psWriteMbx,4,4
 866              	 .comm u8MailboxSendReqStored,1,1
 867              	 .comm u8MbxReadCounter,1,1
 868              	 .comm u8MbxWriteCounter,1,1
 869              	 .comm u16EscAddrSendMbx,2,2
 870              	 .comm u16EscAddrReceiveMbx,2,2
 871              	 .comm u16ReceiveMbxSize,2,2
 872              	 .comm u16SendMbxSize,2,2
 873              	 .comm bMbxRepeatToggle,1,1
 874              	 .comm bMbxRunning,1,1
 875              	 .comm bSendMbxIsFull,1,1
 876              	 .comm bReceiveMbxIsLocked,1,1
 877              	 .ident "GCC: (GNU Tools for ARM Embedded Processors) 4.9.3 20141119 (release) [ARM/embedded-4_9-branch revision 218278]"
DEFINED SYMBOLS
                            *ABS*:00000000 mailbox.c
    {standard input}:17     .text.PutInMbxQueue:00000000 $t
    {standard input}:22     .text.PutInMbxQueue:00000000 PutInMbxQueue
    {standard input}:45     .text.GetOutOfMbxQueue:00000000 $t
    {standard input}:50     .text.GetOutOfMbxQueue:00000000 GetOutOfMbxQueue
    {standard input}:76     .text.MBX_Init:00000000 $t
    {standard input}:81     .text.MBX_Init:00000000 MBX_Init
    {standard input}:136    .text.MBX_Init:00000064 $d
                            *COM*:00000002 u16ReceiveMbxSize
                            *COM*:00000002 u16SendMbxSize
                            *COM*:00000002 u16EscAddrReceiveMbx
                            *COM*:00000002 u16EscAddrSendMbx
                            *COM*:00000034 sMbxReceiveQueue
                            *COM*:00000034 sMbxSendQueue
                            *COM*:00000004 psWriteMbx
                            *COM*:00000004 psRepeatMbx
                            *COM*:00000004 psReadMbx
                            *COM*:00000004 psStoreMbx
                            *COM*:00000001 bMbxRepeatToggle
                            *COM*:00000001 bMbxRunning
                            *COM*:00000001 bSendMbxIsFull
                            *COM*:00000001 bReceiveMbxIsLocked
                            *COM*:00000001 u8MailboxSendReqStored
                            *COM*:00000001 u8MbxWriteCounter
                            *COM*:00000001 u8MbxReadCounter
    {standard input}:156    .text.MBX_StartMailboxHandler:00000000 $t
    {standard input}:161    .text.MBX_StartMailboxHandler:00000000 MBX_StartMailboxHandler
    {standard input}:230    .text.MBX_StartMailboxHandler:0000008c $d
                            *COM*:00000001 bNoMbxMemoryAvailable
    {standard input}:238    .text.MBX_StopMailboxHandler:00000000 $t
    {standard input}:243    .text.MBX_StopMailboxHandler:00000000 MBX_StopMailboxHandler
    {standard input}:318    .text.MBX_StopMailboxHandler:00000094 $d
    {standard input}:334    .text.MailboxServiceInd:00000000 $t
    {standard input}:339    .text.MailboxServiceInd:00000000 MailboxServiceInd
    {standard input}:353    .text.MBX_CopyToSendMailbox:00000000 $t
    {standard input}:358    .text.MBX_CopyToSendMailbox:00000000 MBX_CopyToSendMailbox
    {standard input}:452    .text.MBX_CopyToSendMailbox:000000c4 $d
    {standard input}:464    .text.MBX_MailboxReadInd:00000000 $t
    {standard input}:469    .text.MBX_MailboxReadInd:00000000 MBX_MailboxReadInd
    {standard input}:523    .text.MBX_MailboxReadInd:00000068 $d
    {standard input}:532    .text.MBX_MailboxRepeatReq:00000000 $t
    {standard input}:537    .text.MBX_MailboxRepeatReq:00000000 MBX_MailboxRepeatReq
    {standard input}:573    .text.MBX_MailboxRepeatReq:00000048 $d
    {standard input}:580    .text.MBX_MailboxSendReq:00000000 $t
    {standard input}:585    .text.MBX_MailboxSendReq:00000000 MBX_MailboxSendReq
    {standard input}:638    .text.MBX_MailboxSendReq:00000064 $d
    {standard input}:644    .text.MBX_MailboxWriteInd:00000000 $t
    {standard input}:649    .text.MBX_MailboxWriteInd:00000000 MBX_MailboxWriteInd
    {standard input}:701    .text.MBX_MailboxWriteInd:00000064 $d
    {standard input}:705    .text.MBX_CheckAndCopyMailbox:00000000 $t
    {standard input}:710    .text.MBX_CheckAndCopyMailbox:00000000 MBX_CheckAndCopyMailbox
    {standard input}:804    .text.MBX_CheckAndCopyMailbox:000000cc $d
    {standard input}:816    .text.MBX_Main:00000000 $t
    {standard input}:821    .text.MBX_Main:00000000 MBX_Main
    {standard input}:856    .text.MBX_Main:00000040 $d

UNDEFINED SYMBOLS
GetSyncMan
EnableSyncManChannel
malloc
free
DisableSyncManChannel
SDOS_ClearPendingResponse
COE_ServiceInd
memcpy
nAlStatus
u8dummy
COE_ContinueInd
memset
